"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.getSingleModule = exports.getAllModules = exports.getAllModels = void 0;var env = process.env.NODE_ENV || 'development';

var getAllModels = function getAllModels(modules) {
  return Object.assign(modules.filter(function (module) {return module({}).models;}).map(function (module) {return module({}).models;}));
};exports.getAllModels = getAllModels;

var getAllModules = function getAllModules(module) {
  var valid = module.filter(function (pkg) {return pkg && (!pkg[1] || !pkg[1].env || !Array.isArray(pkg[1].env) || pkg[1].env.includes(env));}).map(function (pkg) {return pkg[0];});
  return valid;
};exports.getAllModules = getAllModules;

var getSingleModule = function getSingleModule(module) {
  if (!module || !Array.isArray(module)) return null;
  return getvalue(module, 0);
};exports.getSingleModule = getSingleModule;

function getvalue(packages, i) {
  var pkg = packages[i];
  if (!pkg || !Array.isArray(pkg)) return null;
  var config = pkg[1] || {};
  if (
  !config.env ||
  !Array.isArray(config.env) ||
  config.env.includes(env))
  {
    return pkg[0];
  } else {
    return getvalue(modules, i + 1);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb25maWdQYXJzZXIuanMiXSwibmFtZXMiOlsiZW52IiwicHJvY2VzcyIsIk5PREVfRU5WIiwiZ2V0QWxsTW9kZWxzIiwibW9kdWxlcyIsIk9iamVjdCIsImFzc2lnbiIsImZpbHRlciIsIm1vZHVsZSIsIm1vZGVscyIsIm1hcCIsImdldEFsbE1vZHVsZXMiLCJ2YWxpZCIsInBrZyIsIkFycmF5IiwiaXNBcnJheSIsImluY2x1ZGVzIiwiZ2V0U2luZ2xlTW9kdWxlIiwiZ2V0dmFsdWUiLCJwYWNrYWdlcyIsImkiLCJjb25maWciXSwibWFwcGluZ3MiOiIySkFBQSxJQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0QsR0FBUixDQUFZRSxRQUFaLElBQXdCLGFBQXBDOztBQUVPLElBQU1DLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQUFDLE9BQU8sRUFBSTtBQUNyQyxTQUFPQyxNQUFNLENBQUNDLE1BQVAsQ0FBY0YsT0FBTyxDQUFDRyxNQUFSLENBQWUsVUFBQUMsTUFBTSxVQUFJQSxNQUFNLENBQUMsRUFBRCxDQUFOLENBQVdDLE1BQWYsRUFBckIsRUFBNENDLEdBQTVDLENBQWdELFVBQUFGLE1BQU0sVUFBSUEsTUFBTSxDQUFDLEVBQUQsQ0FBTixDQUFXQyxNQUFmLEVBQXRELENBQWQsQ0FBUDtBQUNELENBRk0sQzs7QUFJQSxJQUFNRSxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLENBQUFILE1BQU0sRUFBSTtBQUNyQyxNQUFNSSxLQUFLLEdBQUdKLE1BQU0sQ0FBQ0QsTUFBUCxDQUFjLFVBQUFNLEdBQUcsVUFBSUEsR0FBRyxLQUFLLENBQUNBLEdBQUcsQ0FBQyxDQUFELENBQUosSUFBVyxDQUFDQSxHQUFHLENBQUMsQ0FBRCxDQUFILENBQU9iLEdBQW5CLElBQTBCLENBQUNjLEtBQUssQ0FBQ0MsT0FBTixDQUFjRixHQUFHLENBQUMsQ0FBRCxDQUFILENBQU9iLEdBQXJCLENBQTNCLElBQXdEYSxHQUFHLENBQUMsQ0FBRCxDQUFILENBQU9iLEdBQVAsQ0FBV2dCLFFBQVgsQ0FBb0JoQixHQUFwQixDQUE3RCxDQUFQLEVBQWpCLEVBQWdIVSxHQUFoSCxDQUFvSCxVQUFBRyxHQUFHLFVBQUlBLEdBQUcsQ0FBQyxDQUFELENBQVAsRUFBdkgsQ0FBZDtBQUNBLFNBQU9ELEtBQVA7QUFDRCxDQUhNLEM7O0FBS0EsSUFBTUssZUFBZSxHQUFHLFNBQWxCQSxlQUFrQixDQUFBVCxNQUFNLEVBQUk7QUFDdkMsTUFBSSxDQUFDQSxNQUFELElBQVcsQ0FBQ00sS0FBSyxDQUFDQyxPQUFOLENBQWNQLE1BQWQsQ0FBaEIsRUFBdUMsT0FBTyxJQUFQO0FBQ3ZDLFNBQU9VLFFBQVEsQ0FBQ1YsTUFBRCxFQUFTLENBQVQsQ0FBZjtBQUNELENBSE0sQzs7QUFLUCxTQUFTVSxRQUFULENBQWtCQyxRQUFsQixFQUE0QkMsQ0FBNUIsRUFBK0I7QUFDN0IsTUFBTVAsR0FBRyxHQUFHTSxRQUFRLENBQUNDLENBQUQsQ0FBcEI7QUFDQSxNQUFJLENBQUNQLEdBQUQsSUFBUSxDQUFDQyxLQUFLLENBQUNDLE9BQU4sQ0FBY0YsR0FBZCxDQUFiLEVBQWlDLE9BQU8sSUFBUDtBQUNqQyxNQUFNUSxNQUFNLEdBQUdSLEdBQUcsQ0FBQyxDQUFELENBQUgsSUFBVSxFQUF6QjtBQUNBO0FBQ0UsR0FBQ1EsTUFBTSxDQUFDckIsR0FBUjtBQUNBLEdBQUNjLEtBQUssQ0FBQ0MsT0FBTixDQUFjTSxNQUFNLENBQUNyQixHQUFyQixDQUREO0FBRUFxQixFQUFBQSxNQUFNLENBQUNyQixHQUFQLENBQVdnQixRQUFYLENBQW9CaEIsR0FBcEIsQ0FIRjtBQUlFO0FBQ0EsV0FBT2EsR0FBRyxDQUFDLENBQUQsQ0FBVjtBQUNELEdBTkQsTUFNTztBQUNMLFdBQU9LLFFBQVEsQ0FBQ2QsT0FBRCxFQUFVZ0IsQ0FBQyxHQUFHLENBQWQsQ0FBZjtBQUNEO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnXG5cbmV4cG9ydCBjb25zdCBnZXRBbGxNb2RlbHMgPSBtb2R1bGVzID0+IHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24obW9kdWxlcy5maWx0ZXIobW9kdWxlID0+IG1vZHVsZSh7fSkubW9kZWxzKS5tYXAobW9kdWxlID0+IG1vZHVsZSh7fSkubW9kZWxzKSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldEFsbE1vZHVsZXMgPSBtb2R1bGUgPT4ge1xuICBjb25zdCB2YWxpZCA9IG1vZHVsZS5maWx0ZXIocGtnID0+IHBrZyAmJiAoIXBrZ1sxXSB8fCAhcGtnWzFdLmVudiB8fCAhQXJyYXkuaXNBcnJheShwa2dbMV0uZW52KSB8fCBwa2dbMV0uZW52LmluY2x1ZGVzKGVudikpKS5tYXAocGtnID0+IHBrZ1swXSlcbiAgcmV0dXJuIHZhbGlkXG59XG5cbmV4cG9ydCBjb25zdCBnZXRTaW5nbGVNb2R1bGUgPSBtb2R1bGUgPT4ge1xuICBpZiAoIW1vZHVsZSB8fCAhQXJyYXkuaXNBcnJheShtb2R1bGUpKSByZXR1cm4gbnVsbFxuICByZXR1cm4gZ2V0dmFsdWUobW9kdWxlLCAwKVxufVxuXG5mdW5jdGlvbiBnZXR2YWx1ZShwYWNrYWdlcywgaSkge1xuICBjb25zdCBwa2cgPSBwYWNrYWdlc1tpXVxuICBpZiAoIXBrZyB8fCAhQXJyYXkuaXNBcnJheShwa2cpKSByZXR1cm4gbnVsbFxuICBjb25zdCBjb25maWcgPSBwa2dbMV0gfHwge31cbiAgaWYgKFxuICAgICFjb25maWcuZW52IHx8XG4gICAgIUFycmF5LmlzQXJyYXkoY29uZmlnLmVudikgfHxcbiAgICBjb25maWcuZW52LmluY2x1ZGVzKGVudilcbiAgKSB7XG4gICAgcmV0dXJuIHBrZ1swXVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXR2YWx1ZShtb2R1bGVzLCBpICsgMSlcbiAgfVxufVxuIl19